function iniciarApp(){quitarAlerta(),mostrarConfirmacionEliminar(),colapsarMenu(),mostrarEstadisticas()}function mostrarEstadisticas(){"/estadisticas"===location.pathname&&mostrarGraficaVentas()}async function mostrarGraficaVentas(){try{const e="http://127.0.0.1:3000/api/ventas",t=await fetch(e),n=await t.json(),a=n.map(({MES:e})=>{switch(parseInt(e)){case 1:return"Enero";case 2:return"Febrero";case 3:return"Marzo";case 4:return"Abril";case 5:return"Mayo";case 6:return"Junio";case 7:return"Julio";case 8:return"Agosto";case 9:return"Septiembre";case 10:return"Octubre";case 11:return"Noviembre";case 12:return"Diciembre"}});mostrarGrafica(...["graficoVentas","line",a,"Ventas por mes",n.map(({VENTA_MES:e})=>parseInt(e)),"#b8a11e","#b8a11e80"])}catch(e){console.log(e)}}function mostrarGrafica(e,t,n,a,r,o,i){const s=document.getElementById(e).getContext("2d");new Chart(s,{type:t,data:{labels:n,datasets:[{label:a,data:r,backgroundColor:o,borderColor:i,borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}function quitarAlerta(){const e=document.querySelector(".alerta");!document.body.contains(e)||location.pathname.includes("/crear")||location.pathname.includes("/actualizar")||(setTimeout(()=>{e.classList.add("active")},3e3),setTimeout(()=>{e.remove()},4e3))}function mostrarConfirmacionEliminar(){const e=document.querySelectorAll(".formulario-eliminar");if("/usuarios"===location.pathname)mostrarConfirmacion(e,"¿Estas seguro que quieres eliminar un usuario?");else if("/habitaciones"===location.pathname)mostrarConfirmacion(e,"¿Estas seguro que quieres eliminar una habitación?");else if("/clientes"===location.pathname)mostrarConfirmacion(e,"¿Estas seguro que quieres eliminar un cliente?");else{if("/huespedes"!==location.pathname)return;mostrarConfirmacion(e,"¿Estas seguro que quieres eliminar un huésped?")}}function colapsarMenu(){const e=document.querySelector(".panel-admin"),t=document.querySelector(".boton-menu"),n=document.querySelectorAll(".navegacion summary");let a=[];hoverBtnMenu(t,"&larr;","Menú de Administración"),t.addEventListener("click",r=>{e.style.gridTemplateColumns="8% 92%",n.forEach((n,r)=>{a=[...a,n.lastChild.textContent],n.parentElement.classList.contains("active")?(hoverBtnMenu(t,"&larr;","Menú de Administración"),e.style.gridTemplateColumns="20% 80%",n.lastChild.textContent=a[r],n.parentElement.classList.remove("active"),n.nextElementSibling.classList.remove("active")):(hoverBtnMenu(t,"&rarr;","&rarr;"),n.lastChild.textContent="",n.parentElement.classList.add("active"),n.nextElementSibling.classList.add("active"))})})}function hoverBtnMenu(e,t,n){e.style.transition="all 0.4s ease-in",e.addEventListener("mouseover",e=>{e.target.style.fontSize="1.6rem",e.target.style.fontWeight="700",e.target.innerHTML=t}),e.addEventListener("mouseout",e=>{e.target.style.fontSize="1.6rem",e.target.innerHTML=n})}function mostrarConfirmacion(e,t){e.forEach(e=>{e.addEventListener("submit",e=>{e.preventDefault(),modalConfirmacion(e.target,t)})})}function modalConfirmacion(e,t){Swal.fire({title:t,text:"¡No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Si, Elimínalo!",cancelButtonText:"Cancelar",customClass:{popup:"modal",icon:"modal-icon",title:"modal-title",htmlContainer:"modal-warning",actions:"modal-btns",confirmButton:"modal-btn-confirm",cancelButton:"modal-btn-cancel"}}).then(t=>{t.isConfirmed&&e.submit()})}document.addEventListener("DOMContentLoaded",()=>iniciarApp());
//# sourceMappingURL=app.js.map
